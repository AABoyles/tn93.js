!function(){"use strict";var G=Array(256).fill(16);G[45]=17,G[65]=0,G[66]=11,G[67]=1,G[68]=12,G[71]=2,G[72]=13,G[75]=9,G[77]=10,G[78]=15,G[82]=5,G[83]=7,G[84]=3,G[85]=4,G[86]=14,G[87]=8,G[89]=6,G[97]=0,G[98]=11,G[99]=1,G[100]=12,G[103]=2,G[104]=13,G[107]=9,G[109]=10,G[110]=15,G[114]=5,G[115]=7,G[116]=3,G[117]=4,G[118]=14,G[119]=8,G[121]=6;var P=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[1,1,0,0],[0,1,1,1],[1,0,1,1],[1,1,0,1],[1,1,1,0],[1,1,1,1],[1,1,1,1],[0,0,0,0]],R=[1,1,1,1,1,.5,.5,.5,.5,.5,.5,.5,1/3,1/3,1/3,1/3,.25,.25,0];function e(e,f,o){o||(o="AVERAGE");var r=Math.min(e.length,f.length),i=0,t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];if("SKIP"==o)for(var a=0;a<r;a++){var n=G[e.charCodeAt(a)],c=G[f.charCodeAt(a)];n<4&&c<4&&(t[n][c]+=1)}else if("GAPMM"==o)for(a=0;a<r;a++){n=G[e.charCodeAt(a)],c=G[f.charCodeAt(a)];if(n<4&&c<4)t[n][c]+=1;else{if(17==n||17==c){if(17==n&&17==c)continue;17==n?n=15:c=15}if(n<4){if(0<R[c])for(var l=0;l<4;l++)P[c][l]&&(t[n][l]+=R[c])}else if(c<4){if(0<R[n])for(l=0;l<4;l++)P[n][l]&&(t[l][c]+=R[n])}else if(0<(h=R[n]*R[c]))for(l=0;l<4;l++)if(P[n][l])for(var s=0;s<4;s++)P[c][s]&&(t[l][s]+=h)}}else if("RESOLVE"==o)for(a=0;a<r;a++){n=G[e.charCodeAt(a)],c=G[f.charCodeAt(a)];if(n<4&&c<4)t[n][c]+=1;else{if(17==n||17==c)continue;if(n<4){if(0<R[c]){if(P[c][n]){t[n][n]+=1;continue}for(l=0;l<4;l++)P[c][l]&&(t[n][l]+=R[c])}}else if(c<4){if(0<R[n]){if(P[n][c]){t[c][c]+=1;continue}for(l=0;l<4;l++)P[n][l]&&(t[l][c]+=R[n])}}else if(0<(h=R[n]*R[c])){matched_count=0,positive_match=[!1,!1,!1,!1];for(l=0;l<4;l++)P[n][l]&&P[c][l]&&(matched_count++,positive_match[l]=!0);if(0<matched_count){norm2=1/matched_count;for(l=0;l<4;l++)positive_match[l]&&(t[l][l]+=norm2);continue}for(l=0;l<4;l++)if(P[n][l])for(s=0;s<4;s++)P[c][s]&&(t[l][s]+=h)}}}else for(a=0;a<r;a++){n=G[e.charCodeAt(a)],c=G[f.charCodeAt(a)];if(n<4&&c<4)t[n][c]+=1;else{if(17==n||17==c)continue;var h;if(n<4){if(0<R[c])for(l=0;l<4;l++)P[c][l]&&(t[n][l]+=R[c])}else if(c<4){if(0<R[n])for(l=0;l<4;l++)P[n][l]&&(t[l][c]+=R[n])}else if(0<(h=R[n]*R[c]))for(l=0;l<4;l++)if(P[n][l])for(s=0;s<4;s++)P[c][s]&&(t[l][s]+=h)}}var d=[0,0,0,0];for(n=0;n<4;n++)for(c=0;c<4;c++)d[n]+=t[n][c],d[c]+=t[n][c];var u=2/(d[0]+d[1]+d[2]+d[3]),v=(t[0][2]+t[2][0])*u,m=(t[1][3]+t[3][1])*u,A=1-((t[0][0]+t[1][1]+t[2][2]+t[3][3])*u+v+m);if(0==d[0]||0==d[1]||0==d[2]||0==d[3])v=1-2*(v+m)-A,m=1-2*A,i=0<v&&0<m?-.5*Math.log(v)-.25*Math.log(m):1;else{for(var p=1/(d[0]+d[1]+d[2]+d[3]),C=[0,0,0,0],M=0;M<4;M++)C[M]=d[M]*p;var g=C[0]+C[2],_=C[1]+C[3],x=2*C[0]*C[2]/g,E=2*C[1]*C[3]/_,y=2*(g*_-C[0]*C[2]*_/g-C[1]*C[3]*g/_);v=1-v/x-.5*A/g,m=1-m/E-.5*A/_,A=1-.5*A/_/g,i=-x*Math.log(v)-E*Math.log(m)-y*Math.log(A)}return i}"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.tn93=e):self.tn93=e}();
