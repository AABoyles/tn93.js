!function(){"use strict";function f(f,e,o){o||(o="AVERAGE");var i=Math.min(f.length,e.length),r=0,t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];if("SKIP"==o)for(var n=0;n<i;n++){var a=P[f.charCodeAt(n)],l=P[e.charCodeAt(n)];a<4&&l<4&&(t[a][l]+=1)}else if("GAPMM"==o)for(n=0;n<i;n++){a=P[f.charCodeAt(n)],l=P[e.charCodeAt(n)];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l){if(17==a&&17==l)continue;17==a?a=15:l=15}if(a<4){if(0<S[l])for(var c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}else if(l<4){if(0<S[a])for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}else if(0<(h=S[a]*S[l]))for(c=0;c<4;c++)if(R[a][c])for(var s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}else if("RESOLVE"==o)for(n=0;n<i;n++){a=P[f.charCodeAt(n)],l=P[e.charCodeAt(n)];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l)continue;if(a<4){if(0<S[l]){if(R[l][a]){t[a][a]+=1;continue}for(c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}}else if(l<4){if(0<S[a]){if(R[a][l]){t[l][l]+=1;continue}for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}}else if(0<(h=S[a]*S[l])){matched_count=0,positive_match=[!1,!1,!1,!1];for(c=0;c<4;c++)R[a][c]&&R[l][c]&&(matched_count++,positive_match[c]=!0);if(0<matched_count){norm2=1/matched_count;for(c=0;c<4;c++)positive_match[c]&&(t[c][c]+=norm2);continue}for(c=0;c<4;c++)if(R[a][c])for(s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}}else for(n=0;n<i;n++){a=P[f.charCodeAt(n)],l=P[e.charCodeAt(n)];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l)continue;var h;if(a<4){if(0<S[l])for(c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}else if(l<4){if(0<S[a])for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}else if(0<(h=S[a]*S[l]))for(c=0;c<4;c++)if(R[a][c])for(s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}var u=[0,0,0,0];for(a=0;a<4;a++)for(l=0;l<4;l++)u[a]+=t[a][l],u[l]+=t[a][l];var v=2/(u[0]+u[1]+u[2]+u[3]),m=(t[0][2]+t[2][0])*v,d=(t[1][3]+t[3][1])*v,M=1-((t[0][0]+t[1][1]+t[2][2]+t[3][3])*v+m+d);if(0==u[0]||0==u[1]||0==u[2]||0==u[3])m=1-2*(m+d)-M,d=1-2*M,r=0<m&&0<d?-.5*Math.log(m)-.25*Math.log(d):1;else{for(var A=1/(u[0]+u[1]+u[2]+u[3]),g=[0,0,0,0],p=0;p<4;p++)g[p]=u[p]*A;var _=g[0]+g[2],C=g[1]+g[3],E=2*g[0]*g[2]/_,x=2*g[1]*g[3]/C,G=2*(_*C-g[0]*g[2]*C/_-g[1]*g[3]*_/C);m=1-m/E-.5*M/_,d=1-d/x-.5*M/C,M=1-.5*M/C/_,r=-E*Math.log(m)-x*Math.log(d)-G*Math.log(M)}return r}var P=Array(256).fill(16);P[45]=17,P[65]=0,P[66]=11,P[67]=1,P[68]=12,P[71]=2,P[72]=13,P[75]=9,P[77]=10,P[78]=15,P[82]=5,P[83]=7,P[84]=3,P[85]=4,P[86]=14,P[87]=8,P[89]=6,P[97]=0,P[98]=11,P[99]=1,P[100]=12,P[103]=2,P[104]=13,P[107]=9,P[109]=10,P[110]=15,P[114]=5,P[115]=7,P[116]=3,P[117]=4,P[118]=14,P[119]=8,P[121]=6,f.mapChar=P;var R=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[1,1,0,0],[0,1,1,1],[1,0,1,1],[1,1,0,1],[1,1,1,0],[1,1,1,1],[1,1,1,1],[0,0,0,0]];f.resolutions=R;var S=[1,1,1,1,1,.5,.5,.5,.5,.5,.5,.5,1/3,1/3,1/3,1/3,.25,.25,0];f.resolutionsCount=S,f.onInts=function(f,e,o){o||(o="AVERAGE");var i=Math.min(f.length,e.length),r=0,t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];if("SKIP"==o)for(var n=0;n<i;n++){var a=f[n],l=e[n];a<4&&l<4&&(t[a][l]+=1)}else if("GAPMM"==o)for(n=0;n<i;n++){a=f[n],l=e[n];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l){if(17==a&&17==l)continue;17==a?a=15:l=15}if(a<4){if(0<S[l])for(var c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}else if(l<4){if(0<S[a])for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}else if(0<(h=S[a]*S[l]))for(c=0;c<4;c++)if(R[a][c])for(var s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}else if("RESOLVE"==o)for(n=0;n<i;n++){a=f[n],l=e[n];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l)continue;if(a<4){if(0<S[l]){if(R[l][a]){t[a][a]+=1;continue}for(c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}}else if(l<4){if(0<S[a]){if(R[a][l]){t[l][l]+=1;continue}for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}}else if(0<(h=S[a]*S[l])){matched_count=0,positive_match=[!1,!1,!1,!1];for(c=0;c<4;c++)R[a][c]&&R[l][c]&&(matched_count++,positive_match[c]=!0);if(0<matched_count){norm2=1/matched_count;for(c=0;c<4;c++)positive_match[c]&&(t[c][c]+=norm2);continue}for(c=0;c<4;c++)if(R[a][c])for(s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}}else for(n=0;n<i;n++){a=f[n],l=e[n];if(a<4&&l<4)t[a][l]+=1;else{if(17==a||17==l)continue;var h;if(a<4){if(0<S[l])for(c=0;c<4;c++)R[l][c]&&(t[a][c]+=S[l])}else if(l<4){if(0<S[a])for(c=0;c<4;c++)R[a][c]&&(t[c][l]+=S[a])}else if(0<(h=S[a]*S[l]))for(c=0;c<4;c++)if(R[a][c])for(s=0;s<4;s++)R[l][s]&&(t[c][s]+=h)}}var u=[0,0,0,0];for(a=0;a<4;a++)for(l=0;l<4;l++)u[a]+=t[a][l],u[l]+=t[a][l];var v=2/(u[0]+u[1]+u[2]+u[3]),m=(t[0][2]+t[2][0])*v,d=(t[1][3]+t[3][1])*v,M=1-((t[0][0]+t[1][1]+t[2][2]+t[3][3])*v+m+d);if(0==u[0]||0==u[1]||0==u[2]||0==u[3])m=1-2*(m+d)-M,d=1-2*M,r=0<m&&0<d?-.5*Math.log(m)-.25*Math.log(d):1;else{for(var A=1/(u[0]+u[1]+u[2]+u[3]),g=[0,0,0,0],p=0;p<4;p++)g[p]=u[p]*A;var _=g[0]+g[2],C=g[1]+g[3],E=2*g[0]*g[2]/_,x=2*g[1]*g[3]/C,G=2*(_*C-g[0]*g[2]*C/_-g[1]*g[3]*_/C);m=1-m/E-.5*M/_,d=1-d/x-.5*M/C,M=1-.5*M/C/_,r=-E*Math.log(m)-x*Math.log(d)-G*Math.log(M)}return r},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports.tn93=f):self.tn93=f}();
