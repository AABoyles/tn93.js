!function(){function o(o,t,e){e||(e="RESOLVE");var r=Math.min(o.length,t.length),f=Array(256).fill(16);f[45]=17,f[65]=0,f[66]=11,f[67]=1,f[68]=12,f[71]=2,f[72]=13,f[75]=9,f[77]=10,f[78]=15,f[82]=5,f[83]=7,f[84]=3,f[85]=4,f[86]=14,f[87]=8,f[89]=6,f[97]=0,f[98]=11,f[99]=1,f[100]=12,f[103]=2,f[104]=13,f[107]=9,f[109]=10,f[110]=15,f[114]=5,f[115]=7,f[116]=3,f[117]=4,f[118]=14,f[119]=8,f[121]=6;for(var i=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[1,1,0,0],[0,1,1,1],[1,0,1,1],[1,1,0,1],[1,1,1,0],[1,1,1,1],[1,1,1,1],[0,0,0,0]],n=[1,1,1,1,1,.5,.5,.5,.5,.5,.5,.5,1/3,1/3,1/3,1/3,.25,.25,0],a=0,c=0,h=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],u=0;u<4;u++)for(var l=0;l<r;l++){var m=f[o.charCodeAt(l)],d=f[t.charCodeAt(l)];if(m<4&&d<4)h[m][d]+=1;else{if(17==m||17==d){if("GAPMM"!=e)continue;if(17==m&&17==d)continue;17==m?m=15:d=15}if(m<4){if("SKIP"!=e&&n[d]>0){if("RESOLVE"==e&&i[d][m]){a++,h[m][m]+=1;continue}for(v=0;v<4;v++)i[d][v]&&(h[m][v]+=n[d])}}else if("SKIP"!=e)if(d<4){if(n[m]>0){if("RESOLVE"==e&&i[m][d]){a++,h[d][d]+=1;continue}for(v=0;v<4;v++)i[m][v]&&(h[v][d]+=n[m])}}else if(norm=n[m]*n[d],norm>0){if("RESOLVE"==e){a++,matched_count=0,positive_match=[!1,!1,!1,!1];for(v=0;v<4;v++)i[m][v]&&i[d][v]&&(matched_count++,positive_match[v]=!0);if(matched_count>0){norm2=1/matched_count;for(v=0;v<4;v++)positive_match[v]&&(h[v][v]+=norm2);continue}}for(var v=0;v<4;v++)if(i[m][v])for(var s=0;s<4;s++)i[d][s]&&(h[v][s]+=norm)}}}for(var p=[0,0,0,0],m=0;m<4;m++)for(d=0;d<4;d++)p[m]+=h[m][d],p[d]+=h[m][d];var E=2/(p[0]+p[1]+p[2]+p[3]),M=(h[0][2]+h[2][0])*E,g=(h[1][3]+h[3][1])*E,_=1-((h[0][0]+h[1][1]+h[2][2]+h[3][3])*E+M+g);if(0==p[0]||0==p[1]||0==p[2]||0==p[3])M=1-2*(M+g)-_,g=1-2*_,c=M>0&&g>0?-.5*Math.log(M)-.25*Math.log(g):1;else{for(var S=1/(p[0]+p[1]+p[2]+p[3]),x=[0,0,0,0],A=0;A<4;A++)x[A]=p[A]*S;var L=x[0]+x[2],O=x[1]+x[3],R=2*x[0]*x[2]/L,V=2*x[1]*x[3]/O,y=2*(L*O-x[0]*x[2]*O/L-x[1]*x[3]*L/O);M=1-M/R-.5*_/L,g=1-g/V-.5*_/O,_=1-.5*_/O/L,c=-R*Math.log(M)-V*Math.log(g)-y*Math.log(_)}return c}"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports.tn93=o):window.tn93=o}();
